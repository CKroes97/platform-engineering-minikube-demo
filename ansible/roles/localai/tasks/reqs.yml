- name: Install required build tools
  ansible.builtin.dnf:
    name:
      - git
      - cmake
      - ninja-build
      - gcc-13
      - g++-13
      - make
      - libcurl-devel
      - python3-devel
      - openssl-devel
      - zlib-devel
      - nodejs
      - npm
    state: present

- name: Create virtual environment directory
  ansible.builtin.file:
    path: "$HOME/.venv"
    state: directory
    mode: '0755'

- name: Create Python virtual environment (if not exists)
  ansible.builtin.command:
    cmd: "python -m venv $HOME/.venv"
    creates: ".venv/bin/activate"

- name: Install AI Python dependencies
  ansible.builtin.pip:
    name:
      - torch
      - torchvision
      - torchaudio
      - transformers
      - accelerate
    virtualenv: "$HOME/.venv"
    